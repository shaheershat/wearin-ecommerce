{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin | WEARIN</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-pink-50 flex flex-col md:flex-row">

  <div id="mobileSidebar" class="fixed inset-0 z-50 bg-black bg-opacity-50 hidden md:hidden" onclick="closeSidebar()">
    <aside onclick="event.stopPropagation()" class="w-64 bg-white h-full p-4 flex flex-col justify-between relative">
      <button onclick="closeSidebar()" class="absolute top-2 right-2 text-xl">✖</button>

      <div class="mt-8">
        <h1 class="text-2xl font-bold mb-6">WEARIN</h1>
        <nav class="space-y-2">
          <a href="{% url 'admin_dashboard' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_dashboard' %}bg-gray-200 text-black font-semibold{% endif %}">🏠 <span>Dashboard</span></a>
          <a href="{% url 'admin_product_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_product_list' %}bg-gray-200 text-black font-semibold{% endif %}">📦 <span>Products</span></a>
          <a href="{% url 'admin_order_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_order_list' %}bg-gray-200 text-black font-semibold{% endif %}">🚚 <span>Order List</span></a>
          <a href="{% url 'admin_user_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_user_list' %}bg-gray-200 text-black font-semibold{% endif %}">👥 <span>Users</span></a>
          <a href="{% url 'admin_coupon_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_coupon_list' %}bg-gray-200 text-black font-semibold{% endif %}">🎁 <span>Coupons</span></a>
          <a href="{% url 'admin_sales' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_sales' %}bg-gray-200 text-black font-semibold{% endif %}">💰 <span>Sales</span></a>{# Assuming 'admin_sales' as URL name if you add it later #}
          <a href="{% url 'admin_upload_page' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_upload_page' %}bg-gray-200 text-black font-semibold{% endif %}">📤 <span>PixNPost™</span></a>
          <a href="#" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_offers' %}bg-gray-200 text-black font-semibold{% endif %}">⚙️ <span>Offers</span></a>{# Assuming 'admin_offers' as URL name if you add it later #}
        </nav>
      </div>
      <div class="pt-4 border-t mt-4">
        <div class="flex items-center gap-3">
          <img src="{% static 'images/admin.png' %}" class="w-10 h-10 rounded-full" alt="Admin" />
          <div>
            <p class="font-semibold">{{ request.user.get_full_name|default:request.user.username }}</p>
            <p class="text-sm text-gray-500">Admin</p>
          </div>
        </div>
        <a href="{% url 'admin_logout' %}" class="mt-4 flex items-center gap-2 text-red-500 hover:underline">🚪 Logout</a>
      </div>
    </aside>
  </div>

  <aside class="hidden md:flex w-64 bg-white border-r border-gray-200 p-4 flex-col justify-between min-h-screen">
    <div>
      <h1 class="text-2xl font-bold mb-6">WEARIN</h1>
      <nav class="space-y-2">
        <a href="{% url 'admin_dashboard' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_dashboard' %}bg-gray-200 text-black font-semibold{% endif %}">🏠 <span>Dashboard</span></a>
        <a href="{% url 'admin_product_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_product_list' %}bg-gray-200 text-black font-semibold{% endif %}">📦 <span>Products</span></a>
        <a href="{% url 'admin_order_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_order_list' %}bg-gray-200 text-black font-semibold{% endif %}">🚚 <span>Order List</span></a>
        <a href="{% url 'admin_user_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_user_list' %}bg-gray-200 text-black font-semibold{% endif %}">👥 <span>Users</span></a>
        <a href="{% url 'admin_coupon_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_coupon_list' %}bg-gray-200 text-black font-semibold{% endif %}">🎁 <span>Coupons</span></a>
        <a href="{% url 'admin_sales' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_sales' %}bg-gray-200 text-black font-semibold{% endif %}">💰 <span>Sales</span></a>{# Assuming 'admin_sales' as URL name if you add it later #}
        <a href="{% url 'admin_upload_page' %}" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_upload_page' %}bg-gray-200 text-black font-semibold{% endif %}">📤 <span>PixNPost™</span></a>
        <a href="#" class="flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-gray-100 {% if request.resolver_match.url_name == 'admin_offers' %}bg-gray-200 text-black font-semibold{% endif %}">⚙️ <span>Offers</span></a>{# Assuming 'admin_offers' as URL name if you add it later #}
      </nav>
    </div>
    <div class="pt-4 border-t mt-4">
      <div class="flex items-center gap-3">
        <img src="{% static 'images/admin.png' %}" class="w-10 h-10 rounded-full" alt="Admin" />
        <div>
          <p class="font-semibold">{{ request.user.get_full_name|default:request.user.username }}</p>
          <p class="text-sm text-gray-500">Admin</p>
        </div>
      </div>
      <a href="{% url 'admin_logout' %}" class="mt-4 flex items-center gap-2 text-red-500 hover:underline">🚪 Logout</a>
    </div>
  </aside>

  <main class="flex-1 bg-gray-100 p-6 overflow-y-auto w-full">
    <button onclick="openSidebar()" class="md:hidden text-2xl mb-4">☰</button>

    {% block content %}
    
    {% endblock %}
  </main>

  <script>
    function openSidebar() {
      document.getElementById('mobileSidebar').classList.remove('hidden');
    }

    function closeSidebar() {
      document.getElementById('mobileSidebar').classList.add('hidden');
    }
  </script>

</body>
</html>